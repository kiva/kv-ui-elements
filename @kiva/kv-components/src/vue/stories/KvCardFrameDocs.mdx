import { Canvas, Meta, Story, Controls } from '@storybook/addon-docs/blocks';
import * as KvCardFrameStories from './KvCardFrame.stories.js';

<Meta title="KvCardFrame" component={KvCardFrameStories.Component} />

# KvCardFrame

A flexible card frame component that provides a themeable container with customizable styling options for backgrounds, borders, shadows, and border radius.

## Component Overview

The `KvCardFrame` component is a foundational layout component that wraps content in a styled container. It's designed to be flexible and customizable, allowing developers to create consistent card-based UI elements across the application with various visual treatments.

<Story of={KvCardFrameStories.ComponentOverview} />

## Table of Contents

- [Variations](#variations)
- [Usage Information](#usage-information)
- [Behavior](#behavior)
- [Anatomy](#anatomy)
- [Specs](#specs)
- [Best Practices](#best-practices)
- [Accessibility](#accessibility)
- [Component Properties + Demo](#component-properties--demo)
- [Code Examples](#code-examples)

---

## Variations

The KvCardFrame supports multiple visual variations through its props, including different themes, shadow depths, border radii, background colors, and borders. Combine these options to create the exact appearance you need.

<Story of={KvCardFrameStories.AllVariations} />

## Usage Information

Use `KvCardFrame` when you need to create card-based layouts with consistent styling, group related content visually, or apply themed containers to sections of your UI.

### When to Use

- Creating card-based layouts with consistent styling
- Grouping related content that needs visual distinction
- Applying themed containers to sections of your UI
- Building components that require a styled background container
- Creating elevated content sections with shadows
- Wrapping content that needs specific theme colors

### When Not to Use

- You need a specialized card component with built-in content structure (consider creating a specific card component instead)
- Simple divs with basic styling would suffice
- Creating list items that don't need card styling
- When the overhead of theming is unnecessary for the use case

---

## Behavior

### Theme Application

The component wraps content in a `KvThemeProvider` that applies the selected theme. Themes affect the color tokens available to child components, allowing for consistent theming throughout the card's content.

<Story of={KvCardFrameStories.ThemeComparison} />

### Overflow Control

The `allowOverflow` prop controls whether content can extend beyond the card's boundaries. This is particularly important for full-image cards or when you need precise content clipping.

<Story of={KvCardFrameStories.OverflowBehavior} />

## Anatomy

The KvCardFrame component consists of two main layers:

- **Theme Provider Wrapper**: Applies the selected theme and border radius to establish the theming context
- **Card Container**: The visible card frame with background, border, shadow, and overflow settings
- **Content Slot**: Default slot that accepts any content to be rendered inside the card

---

## Specs

### Theme Options

The component supports six predefined themes from `@kiva/kv-tokens`:
- `default` - Standard theme for general use
- `greenLight` - Light green theme for positive actions
- `greenDark` - Dark green theme with light text
- `marigoldLight` - Warm yellow theme for attention
- `stoneLight` - Light neutral theme
- `stoneDark` - Dark neutral theme

<Story of={KvCardFrameStories.ThemeComparison} />

### Styling Flexibility

All styling props accept Tailwind CSS classes, providing complete control over the card's appearance:
- **Background**: Any Tailwind background color class
- **Borders**: Border width and color combinations
- **Radius**: Seven border radius options from `xs` to `full`
- **Shadow**: Three shadow depths including none

---

## Best Practices

**Shadow Depth:**
- ✓ Use appropriate shadow depth to indicate content importance and elevation
- ✗ Don't use excessive shadow depth for standard content - it creates unnecessary visual weight

**Content Spacing:**
- ✓ Add padding to card content for proper spacing
- ✗ Don't forget to add padding - the card frame itself doesn't include internal padding

**Additional Guidelines:**

- **Theme Selection**: Choose themes that align with your content's purpose - greenLight/greenDark for positive actions, marigoldLight for attention, stone variants for neutral content
- **Consistency**: Use consistent shadow and radius classes across similar card types in your application
- **Hierarchy**: Use shadow depth to establish visual hierarchy - reserve `tw-shadow-lg` for primary cards
- **Border Usage**: Use borders sparingly; shadows often provide better visual separation. Borders work well for subtle delineation without depth
- **Overflow Control**: Set `allow-overflow` to `false` when using full-bleed images; keep it `true` for text-based content

---

## Accessibility

- The component itself is a presentational container and doesn't impose accessibility constraints
- Ensure sufficient color contrast between card backgrounds and text content
- When using cards as interactive elements, ensure they have proper focus states and keyboard navigation
- Use semantic HTML within card content (proper heading hierarchy, landmarks, etc.)
- For dark themes (greenDark, stoneDark), ensure text colors provide adequate contrast

---

## Component Properties + Demo

<Canvas of={KvCardFrameStories.Default} />
<Controls of={KvCardFrameStories.Default} />

---

## Code Examples

### Basic Card

```vue
<template>
  <kv-card-frame>
    <div class="tw-p-4">
      <h2>Card Title</h2>
      <p>Card content goes here</p>
    </div>
  </kv-card-frame>
</template>

<script>
import { KvCardFrame } from '@kiva/kv-components';

export default {
  components: {
    KvCardFrame,
  },
};
</script>
```

### Themed Card with Custom Styling

```vue
<template>
  <kv-card-frame
    theme="greenLight"
    bg-color-class="tw-bg-secondary"
    radius-class="tw-rounded-lg"
    shadow-class="tw-shadow"
    border-class="tw-border tw-border-tertiary"
  >
    <div class="tw-p-4">
      <h2>Themed Content</h2>
      <p>This card uses the greenLight theme with custom styling.</p>
    </div>
  </kv-card-frame>
</template>

<script>
import { KvCardFrame } from '@kiva/kv-components';

export default {
  components: {
    KvCardFrame,
  },
};
</script>
```

### Full Image Card

```vue
<template>
  <kv-card-frame
    :allow-overflow="false"
    class="tw-w-64 tw-h-64"
  >
    <img
      src="image.jpg"
      alt="Card image"
      class="tw-w-full tw-h-full tw-object-cover"
    />
  </kv-card-frame>
</template>

<script>
import { KvCardFrame } from '@kiva/kv-components';

export default {
  components: {
    KvCardFrame,
  },
};
</script>
```
